using <%= namespaceName %>.Datasource;

namespace <%= namespaceName %>.Schema;

// Property transforms for custom mapping logic.
// For explicit @coco.source mappings, the method receives the source column value.
// When no @coco.source is provided, the method receives the full row.
public static class PropertyTransforms
{
<% for (const prop of properties) { -%>
    public static <%= prop.csType %> Transform<%= prop.csName %>(<%= prop.isExplicitSource ? "string? value" : "IReadOnlyDictionary<string, string?> row" %>)
    {
        // TODO: customize mapping for <%= prop.name %>
<% if (prop.isExplicitSource) { -%>
        return <%= prop.parseFn %>(value);
<% } else { -%>
        return <%= prop.parseFn %>(row, new[] { <%= prop.csvHeaders.map((h) => JSON.stringify(h)).join(", ") %> });
<% } -%>
    }

<% } -%>
}

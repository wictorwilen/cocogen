namespace <%= namespaceName %>.Schema;

// User-editable overrides for people connector entity mapping.
// This file is created once and will not be overwritten by cocogen update.

public static class PersonEntityOverrides
{
    public static string Transform(string name, IReadOnlyDictionary<string, string?> row, string value)
    {
        switch (name)
        {
<% for (const propName of names) { -%>
            case <%= JSON.stringify(propName) %>:
                // TODO: customize mapping for this entity. Example for skillProficiency:
                // return System.Text.Json.JsonSerializer.Serialize(new Dictionary<string, object?>
                // {
                //     ["displayName"] = row.TryGetValue("skill", out var skill) ? skill : "",
                //     ["proficiencyLevel"] = row.TryGetValue("proficiency", out var level) ? level : "",
                // });
                return value;
<% } -%>
            default:
                return value;
        }
    }

    public static List<string> TransformCollection(
        string name,
        IReadOnlyDictionary<string, string?> row,
        List<string> value
    )
    {
        switch (name)
        {
<% for (const propName of names) { -%>
            case <%= JSON.stringify(propName) %>:
                // TODO: customize mapping for this collection entity. Example for skills:
                // return new List<string> { System.Text.Json.JsonSerializer.Serialize(new Dictionary<string, object?>
                // {
                //     ["displayName"] = row.TryGetValue("skill", out var skill) ? skill : "",
                //     ["proficiency"] = row.TryGetValue("proficiency", out var level) ? level : "",
                // }) };
                return value;
<% } -%>
            default:
                return value;
        }
    }
}
